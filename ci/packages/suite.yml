suite lint:
    stage: lint and prettier
    script:
        - yarn workspace @trezor/suite lint
    dependencies:
        - install and build

suite type check:
    stage: typescript type check
    script:
        - yarn workspace @trezor/suite type-check
    dependencies:
        - install and build

suite detect l10n duplicities:
    # stage: unit testing
    # temporarily put to the end so that we might fix it incrementaly and be sure nothing else was broken by fixes.
    stage: integration testing
    script:
        - yarn workspace @trezor/suite translations:extract
    dependencies:
        - install and build

suite test unit:
    stage: unit testing
    script:
        - yarn workspace @trezor/suite-data copy-static-files
        - yarn workspace @trezor/suite test:unit
    dependencies:
        - install and build

suite test integration:
    only:
        - schedules
    stage: integration testing
    script:
        - yarn workspace @trezor/suite test-health
    dependencies:
        - install and build
